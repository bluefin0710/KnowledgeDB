{% extends 'base.html' %}

{% load static %}

{% block content %}

<style>
 .container {
<!-- border: 1px solid black; -->
 padding: 1rem;
 margin: 1rem;
 font-size: 11px;
 }
</style>

<div class="container container-fluid">

<div class="col-sm-50 offset-sm-2">

     <h3>検索条件</h3>
    <form method="POST">
        {% csrf_token %}
        {% for field in test_form %}
            <div class="form-group form-inline">
                <label class="col-md-offset-2 col-md-3 control-label">{{ field.label }}:</label>
                <div class="col-md-8">
                    {{ field }}
                </div>
            </div>
        {% endfor %}
        <input class="btn btn-success offset-md-8 col-md-3" type="submit" id="button" name="button" value="検索">
    </form>

    <h3>検索結果</h3>

    <section class="post-list">
        {% if object_list|length == 0 %}
            <p>検索結果が存在しません。</p>
        {% else %}
            <!-- <table class="table table-hover table-bordered"> -->
            <table class="table table-striped table-bordered">
                <thead>
                    <tr>
                        <th scope="col">管理番号</th>
                        <th scope="col">機種名</th>
                        <th scope="col">発見内容</th>
                        <th scope="col">原因</th>
                   </tr>
                </thead>                
                <tbody>
                {% for post in object_list %}
                    <tr>
                        <td width=10%><a href ="{% url 'posts:post_detail' post.id %}">{{ post.id }}</a></td>
                        <td width=20%><a href ="{% url 'posts:post_detail' post.id %}">{{ post.equipment }}</a></td>
                        <td width=35%>{{ post.content }}</td>
                        <td width=35%>{{ post.cause }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        {% endif %}

    </section>


    <div class="col-6 offset-3 justify-content-center">
        {% if is_paginated %}
            {% include 'pagination.html' %}
        {% endif %}
    </div>

</div>
</div>

{% endblock %}

